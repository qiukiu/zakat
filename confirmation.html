<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.7">
    <title>Konfirmasi Donasi Zakat KMIB 1446H / 2025</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="header-container">
        <img src="Logokmib.png" alt="KMIB" class="logo">
        <h1>Konfirmasi Donasi Zakat KMIB 1446H / 2025</h1>
        <img src="Logoppa.png" alt="ppa" class="logo">
    </div>

    <section id="confirmationSection">
        <h2>Terima Kasih Atas Donasi Anda!</h2>
        <p>Kami telah menerima donasi Anda dengan rincian sebagai berikut:</p>
        <div id="confirmationText"></div>
        <p>Silakan simpan halaman ini sebagai bukti donasi Anda.</p>
    </section>

    <script>
document.addEventListener('DOMContentLoaded', function() {
    const urlParams = new URLSearchParams(window.location.search);
    const formData = JSON.parse(decodeURIComponent(urlParams.get('data')));

    // Function to create a table for a donation type
    function createDonationTable(title, data) {
        let tableHTML = `<h3>${title}</h3><table border="1" cellpadding="10" cellspacing="0"><tbody>`;
        for (const [key, value] of Object.entries(data)) {
            if (value) { // Only include fields that are not empty
                tableHTML += `<tr><td><strong>${key}</strong></td><td>${value}</td></tr>`;
            }
        }
        tableHTML += `</tbody></table>`;
        return tableHTML;
    }

    // Initialize summary HTML
    let summaryHTML = '';

    // Zakat Fitrah Summary
    if (formData.donationType.includes('fitrah')) {
        const fitrahData = {
            'Jumlah Jiwa': formData.jumlahJiwa,
            'Nama Lengkap': formData.namaFitrah ? formData.namaFitrah.join(', ') : '',
            'Total Zakat Fitrah': `${formData.jumlahJiwa * 10}€`
        };
        summaryHTML += createDonationTable('Zakat Fitrah', fitrahData);
    }

    // Zakat Maal Summary
    if (formData.donationType.includes('maal')) {
        const maalData = {
            'Nama': formData.namaMaal,
            'Jumlah': formData.jumlahMaal,
            'Total Zakat Maal': `${formData.jumlahMaal}€`
        };
        summaryHTML += createDonationTable('Zakat Maal', maalData);
    }

    // Fidyah Summary
    if (formData.donationType.includes('fidyah')) {
        const fidyahData = {
            'Nama': formData.namaFidyah,
            'Jumlah Hari': formData.jumlahHari,
            'Total Fidyah': `${formData.jumlahHari * 3}€`
        };
        summaryHTML += createDonationTable('Fidyah', fidyahData);
    }

    // Infak Summary
    if (formData.donationType.includes('infak')) {
        const infakData = {
            'Nama': formData.namaInfak,
            'Jumlah Infak': formData.jumlahInfak,
            'Total Infak': `${formData.jumlahInfak}€`
        };
        summaryHTML += createDonationTable('Infak', infakData);
    }

    // Payment Method Summary
    const paymentMethod = formData.paymentMethod || 'Not specified';
    summaryHTML += `<h3>Payment Method</h3><p>${paymentMethod}</p>`;

    // Insert summary into the confirmation section
    document.getElementById('confirmationText').innerHTML = summaryHTML;
});

    </script>
</body>
</html>
