<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.7">
    <title>Konfirmasi Donasi Zakat KMIB 1446H / 2025</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="header-container">
        <img src="Logokmib.png" alt="KMIB" class="logo">
        <h1>Konfirmasi Donasi Zakat KMIB 1446H / 2025</h1>
        <img src="Logoppa.png" alt="ppa" class="logo">
    </div>

    <section id="confirmationSection">
        <h2>Terima Kasih Atas Donasi Anda!</h2>
        <p>Kami telah menerima donasi Anda dengan rincian sebagai berikut:</p>
        <div id="confirmationText"></div>
        <p>Silakan simpan halaman ini sebagai bukti donasi Anda.</p>
    </section>

    <script>
document.addEventListener('DOMContentLoaded', function() {
    const urlParams = new URLSearchParams(window.location.search);
    const formData = JSON.parse(decodeURIComponent(urlParams.get('data')));

    // Function to create a table for a donation type
    function createDonationTable(title, data) {
        let tableHTML = `<h3>${title}</h3><table border="1" cellpadding="10" cellspacing="0"><tbody>`;
        for (const [key, value] of Object.entries(data)) {
            if (value) { // Only include fields that are not empty
                tableHTML += `<tr><td><strong>${key}</strong></td><td>${value}</td></tr>`;
            }
        }
        tableHTML += '</tbody></table>';
        return tableHTML;
    }

    // Initialize summary HTML
    let summaryHTML = '';

    // Zakat Fitrah Summary
    if (formData.zakatFitrah && Object.keys(formData.zakatFitrah).length > 0) {
        summaryHTML += createDonationTable('Zakat Fitrah', formData.zakatFitrah);
    }

    // Zakat Maal Summary
    if (formData.zakatMaal && Object.keys(formData.zakatMaal).length > 0) {
        summaryHTML += createDonationTable('Zakat Maal', formData.zakatMaal);
    }

    // Fidyah Summary
    if (formData.fidyah && Object.keys(formData.fidyah).length > 0) {
        summaryHTML += createDonationTable('Fidyah', formData.fidyah);
    }

    // Infak Summary
    if (formData.infak && Object.keys(formData.infak).length > 0) {
        summaryHTML += createDonationTable('Infak', formData.infak);
    }

    // Payment Method Summary
    if (formData.paymentMethod) {
        summaryHTML += `<h3>Payment Method</h3><p>${formData.paymentMethod}</p>`;
    }

    // Insert summary into the confirmation section
    document.getElementById('confirmationText').innerHTML = summaryHTML;
});
    </script>
</body>
</html>
