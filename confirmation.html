<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.7">
    <title>Konfirmasi Zakat KMIB 1446H / 2025</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="header-container">
        <img src="Logokmib.png" alt="KMIB" class="logo">
        <h1>Konfirmasi Zakat KMIB 1446H / 2025</h1>
        <img src="Logoppa.png" alt="ppa" class="logo">
    </div>

    <section id="confirmationSection">
        <h2>Terima Kasih Atas Kepercayaan Anda!</h2>
        <p>Kami telah menerima donasi Anda dengan rincian sebagai berikut:</p>
        
        <div id="summaryContainer"></div>
        
        <p>Silakan simpan halaman ini sebagai bukti donasi Anda.</p>
    </section>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const summaryContainer = document.getElementById('summaryContainer');

            // Create a summary table for each donation type
            const donationTypes = ['fitrah', 'maal', 'fidyah', 'infak'];
            donationTypes.forEach(type => {
                const name = urlParams.get(`nama${type.charAt(0).toUpperCase() + type.slice(1)}`);
                const amount = urlParams.get(`jumlah${type.charAt(0).toUpperCase() + type.slice(1)}`);
                const table = document.createElement('table');
                table.border = "1";
                table.cellPadding = "10";
                table.cellSpacing = "0";
                let hasData = false;

                if (name || amount) {
                    hasData = true;
                    const headerRow = table.insertRow();
                    const headerCell = document.createElement('th');
                    headerCell.colSpan = 2;
                    headerCell.textContent = `Rincian ${type.charAt(0).toUpperCase() + type.slice(1)}`;
                    headerRow.appendChild(headerCell);
                }

                if (name) {
                    const row = table.insertRow();
                    const cell1 = row.insertCell(0);
                    const cell2 = row.insertCell(1);
                    cell1.textContent = 'Nama';
                    cell2.textContent = name;
                }

                if (amount) {
                    const row = table.insertRow();
                    const cell1 = row.insertCell(0);
                    const cell2 = row.insertCell(1);
                    cell1.textContent = 'Jumlah';
                    cell2.textContent = amount;
                }

                if (hasData) {
                    summaryContainer.appendChild(table);
                }
            });

            // Display payment method
            const paymentMethod = urlParams.get('paymentMethod');
            if (paymentMethod) {
                const paymentTable = document.createElement('table');
                paymentTable.border = "1";
                paymentTable.cellPadding = "10";
                paymentTable.cellSpacing = "0";
                const paymentRow = paymentTable.insertRow();
                const paymentCell1 = paymentRow.insertCell(0);
                const paymentCell2 = paymentRow.insertCell(1);
                paymentCell1.textContent = 'Metode Pembayaran';
                paymentCell2.textContent = paymentMethod;
                summaryContainer.appendChild(paymentTable);
            }
        });
    </script>
</body>
</html>
