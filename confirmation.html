<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=0.7">
  <title>Konfirmasi Zakat KMIB 1446H / 2025</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="header-container">
    <img src="Logokmib.png" alt="KMIB" class="logo">
    <h1>Konfirmasi Zakat KMIB 1446H / 2025</h1>
    <img src="Logoppa.png" alt="ppa" class="logo">
  </div>

  <section id="confirmationSection">
    <h2>Terima Kasih Kepercayaan Anda!</h2>
    <p>Kami telah menerima donasi Anda dengan rincian sebagai berikut:</p>

    <div id="summaryTables"></div>
  </section>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const urlParams = new URLSearchParams(window.location.search);
      const summaryData = {
        email: urlParams.get('email'),
        asalKota: urlParams.get('asalKota'),
        paymentMethod: urlParams.get('paymentMethod'),
        fitrah: {
          jumlahJiwa: urlParams.get('fitrah[jumlahJiwa]'),
          names: []
        },
        maal: {
          namaMaal: urlParams.get('maal[namaMaal]'),
          jumlahMaal: urlParams.get('maal[jumlahMaal]')
        },
        fidyah: {
          namaFidyah: urlParams.get('fidyah[namaFidyah]'),
          jumlahHari: urlParams.get('fidyah[jumlahHari]')
        },
        infak: {
          namaInfak: urlParams.get('infak[namaInfak]'),
          jumlahInfak: urlParams.get('infak[jumlahInfak]')
        }
      };

      // Create summary tables
      const summaryTables = [];

      // Zakat Fitrah
      if (summaryData.fitrah.jumlahJiwa > 0) {
        const fitrahTable = `
          <h3>Zakat Fitrah</h3>
          <table border="1" cellpadding="10" cellspacing="0">
            <tr>
              <th>Jumlah Jiwa</th>
              <th>Nama</th>
            </tr>
            <tr>
              <td>${summaryData.fitrah.jumlahJiwa}</td>
              <td>${summaryData.fitrah.names.join(', ')}</td>
            </tr>
          </table>
        `;
        summaryTables.push(fitrahTable);
      }

      // Zakat Maal
      if (summaryData.maal.namaMaal && summaryData.maal.jumlahMaal) {
        const maalTable = `
          <h3>Zakat Maal</h3>
          <table border="1" cellpadding="10" cellspacing="0">
            <tr>
              <th>Nama</th>
              <th>Jumlah</th>
            </tr>
            <tr>
              <td>${summaryData.maal.namaMaal}</td>
              <td>${summaryData.maal.jumlahMaal}€</td>
            </tr>
          </table>
        `;
        summaryTables.push(maalTable);
      }

      // Fidyah
      if (summaryData.fidyah.namaFidyah && summaryData.fidyah.jumlahHari) {
        const fidyahTable = `
          <h3>Fidyah</h3>
          <table border="1" cellpadding="10" cellspacing="0">
            <tr>
              <th>Nama</th>
              <th>Jumlah Hari</th>
            </tr>
            <tr>
              <td>${summaryData.fidyah.namaFidyah}</td>
              <td>${summaryData.fidyah.jumlahHari} hari</td>
            </tr>
          </table>
        `;
        summaryTables.push(fidyahTable);
      }

      // Infak
      if (summaryData.infak.namaInfak && summaryData.infak.jumlahInfak) {
        const infakTable = `
          <h3>Infak</h3>
          <table border="1" cellpadding="10" cellspacing="0">
            <tr>
              <th>Nama</th>
              <th>Jumlah</th>
            </tr>
            <tr>
              <td>${summaryData.infak.namaInfak}</td>
              <td>${summaryData.infak.jumlahInfak}€</td>
            </tr>
          </table>
        `;
        summaryTables.push(infakTable);
      }

      // Payment Method
      const paymentMethodTable = `
        <h3>Metode Pembayaran</h3>
        <table border="1" cellpadding="10" cellspacing="0">
          <tr>
            <th>Metode</th>
          </tr>
          <tr>
            <td>${summaryData.paymentMethod}</td>
          </tr>
        </table>
      `;
      summaryTables.push(paymentMethodTable);

      // Display all tables
      document.getElementById('summaryTables').innerHTML = summaryTables.join('');
    });
  </script>
</body>
</html>
